<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <title>Arch Linux en Español</title>
    <link rel="stylesheet" type="text/css" href="../../../../../../css/arch.css" media="screen, projection" />
		<link rel="icon" type="image/x-icon" href="../../../../../../favicon.ico">
</head>
<body class="">
    <div id="archnavbar" class="anb-home">
        <div id="archnavbarlogo"><h1><a href="./" title="Ir a la portada">Arch Linux en Español</a></h1></div>
        <div id="archnavbarmenu">
            <ul id="archnavbarlist">
                
                <li class="anb-Portada"><a href="https://archlinux-es.github.io/" title="Ir a la portada">Portada</a></li>
                
                <li class="anb-Paquetes"><a href="https://archlinux.org/packages/" title="Arch Package Database">Paquetes</a></li>
                
                <li class="anb-Foros"><a href="https://bbs.archlinux.org/viewforum.php?id=30" title="Foros de la comunidad">Foros</a></li>
                
                <li class="anb-Wiki"><a href="https://wiki.archlinux.org/" title="Community documentation">Wiki</a></li>
                
                <li class="anb-Bugs"><a href="https://bugs.archlinux.org/" title="Report and track bugs">Bugs</a></li>
                
                <li class="anb-Seguridad"><a href="https://security.archlinux.org/" title="Arch Linux Security Tracker">Seguridad</a></li>
                
                <li class="anb-AUR"><a href="https://aur.archlinux.org/" title="Arch Linux User Repository">AUR</a></li>
                
                <li class="anb-Download"><a href="https://archlinux.org/download" title="Descargar Arch Linux">Download</a></li>
                
            </ul>
        </div>
    </div>
<div id="content">
    <div id="archdev-navbar">
    </div>
    <div id="content-left-wrapper">
        <div id="content-left">

<div id="content">
<div id="archdev-navbar">

</div>
<div class="news-article box">
    <h2>Intervención del usuario para mover binarios a /usr/bin durante la actualización</h2>
    <p class="article-info">2013-06-03 - sud_crow </p>
    <div class="article-content" itemprop="articleBody"><p>Al actualizar se obtendrá un mensaje de error:</p>

<pre><code>error: failed to commit transaction (conflicting files)
filesystem: /bin exists in filesystem
</code></pre>

<p>La actualización aunará todos los binarios en un único directorio /usr/bin. Con esto se consigue eliminar una distinción sin sentido alguno para Arch y simplificar el proceso de mantenimiento de paquetes por parte de los desarrolladores. Consultar <a href="https://mailman.archlinux.org/pipermail/arch-dev-public/2012-March/022625.html">este post en inglés</a> para una explicación más amplia de los motivos por los que se lleva a cabo este cambio.</p>

<p>Las instrucciones que se ofrecen a continuación son las que hay que seguir para llevar a cabo una actualización correcta y que no ponga en peligro el sistema:</p>

<p>1.- Hay que corregir los paquetes no oficiales que tengan ficheros almacenados en /bin, /sbin o /usr/sbin para poner dichos ficheros en /usr/bin. Para obtener un listado de paquetes que no están en un repositorio oficial y que necesitan corrección hay que introducir lo siguiente:</p>

<p><code>$ pacman -Qqo /bin /sbin /usr/sbin | pacman -Qm -</code></p>

<p>Es necesario también comprobar los paquetes que se han instalado desde repositorios no oficiales con:</p>

<p><code>$ paclist | awk ' { print $1 } ' | pacman -Ql - | grep ' /s?bin/| /usr/sbin/'</code></p>

<p>2.- Hay que estar seguros de que los paquetes en IgnorePkg o IgnoreGroup no poseen ficheros en /bin, /sbin, o /usr/sbin. En caso de ser necesario, hay que corregirlos también.
3.- Si se da el caso de tener ficheros en /bin, /sbin o /usr/sbin que no pertenecen a ningún paquete, hay que moverlos. Para obtener un listado:</p>

<p><code>$ find /bin /sbin /usr/sbin -exec pacman -Qo -- {} + &gt;/dev/null</code></p>

<p>4.- Asegurarse de que todas las particiones están montadas con autofs. Es posible que no se monten de forma automática cuando sean necesarios para llevar a cabo esta actualización.
5.- Actualizar el sitema.</p>

<p>Antes de proceder con la actualización, tal vez sea buena idea asegurarse de tener una segunda terminal con privilegios de administrador en el improbable caso de tener alguna emergencia. Esto es algo a tener en cuenta especialmente si se está actualizando mediante ssh.</p>

<pre><code># pacman -Syu --ignore filesystem,bash
# pacman -S bash
# pacman -Su
</code></pre>

<p><a href="http://foros.archlinux-es.org/viewtopic.php?f=1&amp;t=7206&amp;p=43221#p43221">Traducción oficial y discusión de la noticia en el foro.</a></p>
</div>
</div>
        </div>
    </div>
    <div id="content-right">
        <div id="nav-sidebar" class="widget">
            <h4>Información</h4>
            <ul>
                
                <li><a href="../../../../../../" title="Portada">Portada</a></li>
                
                <li><a href="../../../../../../pages/about" title="Acerca de">Acerca de</a></li>
                
                <li><a href="https://wiki.archlinux.org/index.php/Installation_guide_%28Espa%C3%B1ol%29" title="Acerca de">Guia de Instalación</a></li>
                
            </ul>
        </div> 
        <div id="nav-sidebar" class="widget">
            <h4>Redes Sociales</h4>
            <ul>
                
                <li><a href="https://www.facebook.com/pages/Arch-Linux-Hispano/163041013798520" title="Facebook de Arch Linux en Español">Facebook</a></li>
                
                <li><a href="https://www.keybase.io/team/archlinux_es" title="Keybase Arch Linux en Español">Keybase</a></li>
                
                <li><a href="https://www.linkedin.com/groups/2162424/" title="Linkedin Arch Linux">Linkedin</a></li>
                
                <li><a href="https://steamcommunity.com/groups/archlinux-es" title="Steam Arch Linux en Español">Steam</a></li>
                
                <li><a href="https://www.twitter.com/archlinuxes" title="Twitter Arch Linux en Español">Twitter</a></li>
                
            </ul>
        </div> 

    </div>
    <div id="footer">
        <p>Arch Linux © Copyright 2002-2019 <a href="mailto:jvinet@zeroflux.org" title="Contactar a Judd Vinet">Judd Vinet</a> y <a href="mailto:aaron@archlinux.org" title="Contactar a Aaron Griffin">Aaron Griffin</a>.</p>
        <p>El nombre de Arch Linux y el logo son marcas reconocidas
        <a href="https://wiki.archlinux.org/index.php/DeveloperWiki:TrademarkPolicy"
            title="Arch Linux Trademark Policy">trademarks</a>. Algunos derechos reservados.</p>
        <p>El sitio de archlinux-es.org es Copyright 2003-2019 de <a href="mailto:leonardo@archlinux-es.org" title="Conactar a Leonardo Gallego">Leonardo Gallego</a>.

        <p>The registered trademark Linux® is used pursuant to a sublicense from LMI,
        the exclusive licensee of Linus Torvalds, owner of the mark on a world-wide basis.</p>
    </div>
</div>
</div>
</body>
</html>

